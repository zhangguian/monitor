## 实现计划

### 1. 修改 BehaviorCollector 类
- 在 `src/collector/behavior.ts` 中添加 `reportCustomBehavior` 方法
- 该方法接收 `behaviorType`（行为类型）和 `customData`（自定义数据）作为参数
- 将自定义行为数据封装后发送到 Worker

### 2. 修改 ErrorCollector 类
- 在 `src/collector/error.ts` 中添加 `reportCustomError` 方法
- 该方法接收 `errorData`（自定义错误数据）作为参数
- 调用已有的 `handleError` 方法处理自定义错误

### 3. 修改 MonitorSDK 对象
- 在 `src/core/index.ts` 中取消注释并完善 `reportCustomBehavior` 方法
- 在 `src/core/index.ts` 中取消注释并完善 `reportCustomError` 方法
- 确保类型定义正确，支持 TypeScript 类型检查

### 4. 实现细节
- **自定义行为埋点**：支持业务方手动上报特定业务行为，如"提交订单"、"领取优惠券"等
- **自定义错误上报**：支持业务方手动上报已知业务错误，如接口返回的"用户未登录"错误等
- **类型安全**：确保所有方法都有正确的 TypeScript 类型定义
- **去重机制**：自定义错误上报应复用已有的错误去重机制
- **数据格式**：保持与自动采集数据的格式一致，便于后端统一处理

### 5. 预期效果
- 业务方可以通过 `MonitorSDK.reportCustomBehavior()` 手动上报行为
- 业务方可以通过 `MonitorSDK.reportCustomError()` 手动上报错误
- 所有自定义上报的数据都会经过 Worker 处理，包括采样、脱敏、去重和上报
- 支持 TypeScript 类型提示，提升开发体验

### 6. 文件修改清单
- `src/collector/behavior.ts`：添加 `reportCustomBehavior` 方法
- `src/collector/error.ts`：添加 `reportCustomError` 方法
- `src/core/index.ts`：完善 MonitorSDK 对象的自定义埋点和错误上报接口

### 7. 代码示例
```javascript
// 自定义行为埋点示例
MonitorSDK.reportCustomBehavior('submit_order_success', {
  orderId: '123456',
  goodsId: 'g789',
  amount: 199.9
});

// 自定义错误上报示例
MonitorSDK.reportCustomError({
  errorType: 'api_auth_error',
  message: '用户未登录，需重新登录',
  apiUrl: '/api/user/info',
  statusCode: 401
});
```